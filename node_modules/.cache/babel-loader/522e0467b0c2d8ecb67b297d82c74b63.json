{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\91790\\\\Desktop\\\\transport\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:\\\\Users\\\\91790\\\\Desktop\\\\transport\\\\Transport_modal\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import GoogleMapReact from\"google-map-react\";import Marker from\"./Marker\";var GOOGLE_MAPS_API_KEY=\"AIzaSyDqFvKNd_v1cvfYXvO5ojC0H52LWLfDPVE\";var Map=function Map(){var _useState=useState(\"Everwin Public School, 3rd Main Road,Everwin Public School, 3rd Main Road, Ayyavu\"),_useState2=_slicedToArray(_useState,2),source=_useState2[0],setSource=_useState2[1];var _useState3=useState(\"Virugambakkam\"),_useState4=_slicedToArray(_useState3,2),destination=_useState4[0],setDestination=_useState4[1];var _useState5=useState([\"koyambedu\"]),_useState6=_slicedToArray(_useState5,2),waypoints=_useState6[0],setWaypoints=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),markers=_useState8[0],setMarkers=_useState8[1];var defaultProps={center:{lat:37.7749,lng:-122.4194},zoom:11};var handleApiLoaded=function handleApiLoaded(map,maps){var directionsService=new maps.DirectionsService();var directionsRenderer=new maps.DirectionsRenderer({map:map});var waypointsList=waypoints.map(function(waypoint){return{location:waypoint,stopover:true};});var request={origin:source,destination:destination,optimizeWaypoints:true,waypoints:waypointsList,travelMode:\"DRIVING\"};directionsService.route(request,function(result,status){if(status===\"OK\"){var distance=result.routes[0].legs.reduce(function(acc,leg){return acc+leg.distance.value;},0);console.log(\"resuktmap\",distance/1000+'KMS');directionsRenderer.setDirections(result);}else{console.error(\"error fetching directions \".concat(result));}});};var handleMarkerDragEnd=function handleMarkerDragEnd(markerIndex,_ref){var lat=_ref.lat,lng=_ref.lng;var newMarkers=_toConsumableArray(markers);newMarkers[markerIndex]={lat:lat,lng:lng};setMarkers(newMarkers);};return/*#__PURE__*/React.createElement(\"div\",{style:{height:\"100vh\",width:\"100%\"}},/*#__PURE__*/React.createElement(GoogleMapReact,{bootstrapURLKeys:{key:GOOGLE_MAPS_API_KEY},defaultCenter:defaultProps.center,defaultZoom:defaultProps.zoom,yesIWantToUseGoogleMapApiInternals:true,onGoogleApiLoaded:function onGoogleApiLoaded(_ref2){var map=_ref2.map,maps=_ref2.maps;return handleApiLoaded(map,maps);}},markers.map(function(marker,index){return/*#__PURE__*/React.createElement(Marker,{key:index,lat:marker.lat,lng:marker.lng,onDragEnd:function onDragEnd(e){return handleMarkerDragEnd(index,e);}});})));};export default Map;","map":null,"metadata":{},"sourceType":"module"}